import{i as j}from"./chunks/index.BiBfcChI.js";import{_ as L,p as i,v as T,P as $,c as b,o as u,e as E,j as o,t as _,b as y,G as w,a as v}from"./chunks/framework.BOb-TpcB.js";const z={class:"wrapper"},A={key:0,class:"loading"},I={key:1,class:"error"},J={__name:"ProjectBaseChart",props:{extraConfig:{type:Object,required:!0},loadChartData:{type:Function,required:!0}},setup(p){const s=p;let a=null;const e=i(null),t=i(null),r=i(!1),l=i(null),g=i(!1),C=()=>{typeof window<"u"&&(g.value=document.documentElement.classList.contains("dark"))},k=()=>g.value?"dark":"light",S=async n=>{const c=[];return n.forEach(h=>{const m=Object.keys(h.monthly_total_stars).map(f=>h.monthly_total_stars[f]||0);m.some((f,d)=>d>0&&f===0&&m[d-1]!==0)||c.push({name:h.name,type:"line",smooth:!0,endLabel:{show:!0,formatter:f=>{const d=f.seriesName;return d.length>10?d.substring(0,10)+"...":d},distance:20},data:m,source:h})}),{seriesList:c}},P=async n=>{const{seriesList:c}=await S(n);return{tooltip:{trigger:"item"},legend:{type:"scroll",orient:"horizontal",data:n.map(m=>m.name),left:0,top:30},grid:{left:0,right:150,bottom:30,top:100,containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:Object.keys(n[0].monthly_total_stars)},yAxis:{type:"value"},series:c,...s.extraConfig}},O=async()=>{try{r.value=!0,l.value=null,t.value=await s.loadChartData();const n=await P(t.value);a=j(e.value,k()),a.setOption(n)}catch(n){l.value=n.message}finally{r.value=!1}},N=async n=>{a.dispose();const c=await P(t.value);a=j(e.value,k()),a.setOption(c)},D=()=>{typeof window<"u"&&new MutationObserver(()=>{const c=document.documentElement.classList.contains("dark");c!==g.value&&(g.value=c,N())}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})};return T(async()=>{C(),D(),await $(),await O()}),(n,c)=>(u(),b("div",z,[r.value?(u(),b("div",A,[...c[0]||(c[0]=[o("p",null,"æ­£åœ¨åŠ è½½æ•°æ®...",-1)])])):l.value?(u(),b("div",I,[o("p",null,"åŠ è½½æ•°æ®æ—¶å‡ºé”™: "+_(l.value),1)])):E("",!0),o("div",{ref_key:"chartRef",ref:e,class:"chart"},null,512)]))}},x=L(J,[["__scopeId","data-v-b8525ce7"]]),B={__name:"ProjectStar",setup(p){const s=i({dataZoom:[{type:"slider",show:!0,yAxisIndex:[0],start:0,end:100}],grid:{left:0,right:150,bottom:30,top:100,containLabel:!0}}),a=async()=>{const t="/members-visualization/data/datawhalechina/organization_datasource.json".replace(/\/+/g,"/"),r=await fetch(t);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).projectInfo};return(e,t)=>(u(),y(x,{"extra-config":s.value,"load-chart-data":a},null,8,["extra-config"]))}},V={__name:"ProjectStarAddTop5",setup(p){const s=i({grid:{left:0,right:100,bottom:30,top:100,containLabel:!0}}),a=async()=>{const t="/members-visualization/data/datawhalechina/organization_datasource.json".replace(/\/+/g,"/"),r=await fetch(t);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).projectAddTop5Info};return(e,t)=>(u(),y(x,{"extra-config":s.value,"load-chart-data":a},null,8,["extra-config"]))}},H={__name:"NewProjectStarAddTop3",setup(p){const s=i({grid:{left:0,right:100,bottom:30,top:100,containLabel:!0}}),a=async()=>{const t="/members-visualization/data/datawhalechina/organization_datasource.json".replace(/\/+/g,"/"),r=await fetch(t);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).newProjectAddTop3Info};return(e,t)=>(u(),y(x,{"extra-config":s.value,"load-chart-data":a},null,8,["extra-config"]))}},G=JSON.parse('{"title":"ğŸ‘ğŸ» é¡¹ç›®ç»Ÿè®¡","description":"","frontmatter":{},"headers":[],"relativePath":"projects.md","filePath":"projects.md","lastUpdated":1771164395000}'),M={name:"projects.md"},R=Object.assign(M,{setup(p){const s=i("åŠ è½½ä¸­..."),a=i("åŠ è½½ä¸­...");return T(async()=>{try{const e=await fetch("/members-visualization/data/datawhalechina/fetch_time_key.json");if(e.ok){const t=await e.json();s.value=t[t.length-4],a.value=t[t.length-1]}}catch(e){console.error("è·å–æ—¶é—´æ•°æ®å¤±è´¥:",e)}}),(e,t)=>(u(),b("div",null,[t[0]||(t[0]=o("h1",{id:"ğŸ‘ğŸ»-é¡¹ç›®ç»Ÿè®¡",tabindex:"-1"},[v("ğŸ‘ğŸ» é¡¹ç›®ç»Ÿè®¡ "),o("a",{class:"header-anchor",href:"#ğŸ‘ğŸ»-é¡¹ç›®ç»Ÿè®¡","aria-label":'Permalink to "ğŸ‘ğŸ» é¡¹ç›®ç»Ÿè®¡"'},"â€‹")],-1)),t[1]||(t[1]=o("h2",{id:"é¡¹ç›®-star-æ•°",tabindex:"-1"},[v("é¡¹ç›® Star æ•° "),o("a",{class:"header-anchor",href:"#é¡¹ç›®-star-æ•°","aria-label":'Permalink to "é¡¹ç›® Star æ•°"'},"â€‹")],-1)),t[2]||(t[2]=o("p",null,"Datawhale æ‰€æœ‰ Star æ•°å¤§äº 1000 çš„é¡¹ç›®è¿‘ä¸€å¹´è¶‹åŠ¿ã€‚æ‹–åŠ¨å³ä¾§æ»šåŠ¨æ¡å¯ç¼©æ”¾å›¾è¡¨ã€‚",-1)),w(B),t[3]||(t[3]=o("h2",{id:"star-å¢é•¿-top-5",tabindex:"-1"},[v("Star å¢é•¿ Top 5 "),o("a",{class:"header-anchor",href:"#star-å¢é•¿-top-5","aria-label":'Permalink to "Star å¢é•¿ Top 5"'},"â€‹")],-1)),o("p",null,_(s.value)+" è‡³ "+_(a.value)+" ç»Ÿè®¡å‘¨æœŸå†…ï¼ŒStar å¢é•¿æ•°å‰ 5 åï¼š",1),w(V),t[4]||(t[4]=o("h2",{id:"æ–°ç§€é¡¹ç›®-top-3",tabindex:"-1"},[v("æ–°ç§€é¡¹ç›® Top 3 "),o("a",{class:"header-anchor",href:"#æ–°ç§€é¡¹ç›®-top-3","aria-label":'Permalink to "æ–°ç§€é¡¹ç›® Top 3"'},"â€‹")],-1)),o("p",null,_(s.value)+" è‡³ "+_(a.value)+" ç»Ÿè®¡å‘¨æœŸå†…ï¼Œæ–°ç§€é¡¹ç›® Star å¢é•¿æ•°å‰ 3 åï¼š",1),w(H)]))}});export{G as __pageData,R as default};
