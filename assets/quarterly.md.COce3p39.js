import{_ as Q,h as x,c as r,o,j as t,e as p,t as l,F as g,B as y,n as S,p as _,v as z,ag as D,ah as j,a as w,b as q,G as A,ai as B}from"./chunks/framework.BOb-TpcB.js";const E={class:"card-body"},F={class:"contributor-info"},I={class:"user-header"},L=["src","alt"],U={key:1,class:"avatar avatar-placeholder"},O=["href"],H={key:3,class:"username unverified"},G={class:"stats-row"},J={class:"stat-item"},R={class:"stat-value"},W={class:"stat-item"},K={class:"stat-value"},X={key:0,class:"repos-list"},Z={class:"repos-tags"},tt=["href"],et={key:0,class:"more-tag"},st={__name:"ContributorCard",props:{contributor:{type:Object,required:!0},level:{type:String,required:!0,validator:u=>["outstanding","excellent","active"].includes(u)},rank:{type:Number,default:null}},setup(u){const m=u;x(()=>({outstanding:"ğŸ† å“è¶Šè´¡çŒ®è€…",excellent:"â­ ä¼˜ç§€è´¡çŒ®è€…",active:"ğŸ‘¥ æ´»è·ƒè´¡çŒ®è€…"})[m.level]||"");const d=a=>{if(!a)return"?";const i=a.charAt(0);return/[\u4e00-\u9fa5]/.test(i)?i:i.toUpperCase()};return(a,i)=>(o(),r("div",{class:S(["contributor-card",`level-${u.level}`])},[t("div",E,[t("div",F,[t("div",I,[u.contributor.verified!==!1?(o(),r("img",{key:0,src:`https://github.com/${u.contributor.username}.png?size=48`,alt:u.contributor.username,class:"avatar"},null,8,L)):(o(),r("div",U,l(d(u.contributor.username)),1)),u.contributor.verified!==!1?(o(),r("a",{key:2,href:`https://github.com/${u.contributor.username}`,target:"_blank",class:"username"}," @"+l(u.contributor.username),9,O)):(o(),r("span",H,l(u.contributor.username),1))]),t("div",G,[t("div",J,[i[0]||(i[0]=t("span",{class:"stat-icon"},"âœ…",-1)),t("span",R,l(u.contributor.valid_commits),1),i[1]||(i[1]=t("span",{class:"stat-label"},"æœ‰æ•ˆcommit",-1))]),t("div",W,[i[2]||(i[2]=t("span",{class:"stat-icon"},"ğŸ“¦",-1)),t("span",K,l(u.contributor.repos_count),1),i[3]||(i[3]=t("span",{class:"stat-label"},"ä»“åº“",-1))])])]),u.contributor.repos&&u.contributor.repos.length>0?(o(),r("div",X,[i[4]||(i[4]=t("div",{class:"repos-title"},"å‚ä¸ä»“åº“ï¼š",-1)),t("div",Z,[(o(!0),r(g,null,y(u.contributor.repos.slice(0,4),v=>(o(),r("a",{key:v,href:`https://github.com/datawhalechina/${v}`,target:"_blank",class:"repo-tag"},l(v),9,tt))),128)),u.contributor.repos.length>4?(o(),r("span",et," +"+l(u.contributor.repos.length-4),1)):p("",!0)])])):p("",!0)])],2))}},T=Q(st,[["__scopeId","data-v-402e4f59"]]),at={class:"quarterly-contributors-container"},nt={class:"quarter-selector"},ot=["value"],lt=["value"],rt=["disabled","title"],it={key:0,class:"loading-state"},ut={key:1,class:"error-state"},ct={key:2,class:"empty-state"},dt={class:"empty-desc"},vt={key:3,class:"content"},ht={key:0,class:"stats-overview"},mt={class:"stat-card"},bt={class:"stat-content"},_t={class:"stat-value"},pt={class:"stat-desc"},gt={class:"stat-card"},yt={class:"stat-content"},ft={class:"stat-value"},$t={class:"stat-desc"},kt={class:"stat-card"},xt={class:"stat-content"},wt={class:"stat-value"},Ct={class:"stat-desc"},Dt={key:1,class:"contributors-section"},jt={class:"section-title"},qt={class:"count-badge"},Tt={class:"contributors-grid"},Qt={key:2,class:"contributors-section"},St={class:"section-title"},Pt={class:"count-badge"},Nt={class:"contributors-grid"},Vt={key:3,class:"update-info"},Mt={__name:"QuarterlyContributors",setup(u){const m=_(!0),d=_(null),a=_(null),i=_(new Date().getFullYear()),v=_(Math.floor((new Date().getMonth()+3)/3)),b=_(!1),P=x(()=>{const n=new Date().getFullYear(),e=[];for(let s=2024;s<=n;s++)e.push(s);return e.reverse()}),f=x(()=>{if(!a.value)return!1;const n=a.value.contributors;return n.outstanding&&n.outstanding.length>0||n.excellent&&n.excellent.length>0}),N=async()=>{if(!f.value)return;const n=a.value.contributors.outstanding||[],e=a.value.contributors.excellent||[];let s=`${i.value}Q${v.value}æ€»è´¡çŒ®è€…æœ‰${a.value.meta.total_contributors}äººï¼Œå“è¶Šè´¡çŒ®è€…${n.length}äººï¼Œä¼˜ç§€è´¡çŒ®è€…${e.length}äººï¼Œä¼˜ç§€&å“è¶Šå¼€æºè´¡çŒ®è€…åå•å¦‚ä¸‹ï¼š`;n.length>0&&(s+=`
ã€å“è¶Šè´¡çŒ®è€…ã€‘ï¼š${n.map(c=>c.username).join("ã€")}`),e.length>0&&(s+=`
ã€ä¼˜ç§€è´¡çŒ®è€…ã€‘ï¼š${e.map(c=>c.username).join("ã€")}`);try{await navigator.clipboard.writeText(s),b.value=!0,setTimeout(()=>{b.value=!1},2e3)}catch{const c=document.createElement("textarea");c.value=s,document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),b.value=!0,setTimeout(()=>{b.value=!1},2e3)}},V=n=>new Date(n).toLocaleString("zh-CN"),M=async(n,e)=>{try{const s="/members-visualization/",c=`quarterly_contributors_${n}_Q${e}.json`,h=`${s}data/datawhalechina/${c}`.replace(/\/+/g,"/"),k=await fetch(h,{method:"HEAD"});if(!k.ok)return!1;const C=k.headers.get("content-type");return C&&C.includes("application/json")}catch{return!1}},Y=async()=>{const n=new Date().getFullYear(),e=Math.floor((new Date().getMonth()+3)/3);for(let s=n;s>=2024;s--){const c=s===n?e:4;for(let h=c;h>=1;h--)if(await M(s,h))return{year:s,quarter:h}}return{year:n,quarter:e}},$=async()=>{try{m.value=!0,d.value=null,a.value=null;const n="/members-visualization/",e=`quarterly_contributors_${i.value}_Q${v.value}.json`,s=`${n}data/datawhalechina/${e}`.replace(/\/+/g,"/"),c=await fetch(s);if(!c.ok){a.value=null;return}const h=c.headers.get("content-type");if(!h||!h.includes("application/json")){a.value=null;return}a.value=await c.json()}catch(n){n instanceof SyntaxError?a.value=null:(d.value=n.message,console.error("åŠ è½½å­£åº¦è´¡çŒ®è€…æ•°æ®å¤±è´¥:",n))}finally{m.value=!1}};return z(async()=>{const n=await Y();i.value=n.year,v.value=n.quarter,await $()}),(n,e)=>(o(),r("div",at,[t("div",nt,[e[2]||(e[2]=t("label",null,"é€‰æ‹©å­£åº¦ï¼š",-1)),D(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),onChange:$},[(o(!0),r(g,null,y(P.value,s=>(o(),r("option",{key:s,value:s},l(s)+"å¹´ ",9,ot))),128))],544),[[j,i.value]]),D(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>v.value=s),onChange:$},[(o(),r(g,null,y([1,2,3,4],s=>t("option",{key:s,value:s}," ç¬¬"+l(s)+"å­£åº¦ ",9,lt)),64))],544),[[j,v.value]]),t("button",{class:S(["copy-btn",{disabled:!f.value,copied:b.value}]),disabled:!f.value,title:f.value?"å¤åˆ¶ä¼˜ç§€&å“è¶Šè´¡çŒ®è€…åå•":"æš‚æ— æ•°æ®",onClick:N},l(b.value?"âœ… å·²å¤åˆ¶":"ğŸ“‹ å¤åˆ¶åå•"),11,rt)]),m.value?(o(),r("div",it,[...e[3]||(e[3]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"æ­£åœ¨åŠ è½½å­£åº¦è´¡çŒ®è€…æ•°æ®...",-1)])])):d.value?(o(),r("div",ut,[t("p",null,"âŒ åŠ è½½å¤±è´¥: "+l(d.value),1),t("button",{onClick:$,class:"retry-btn"},"é‡è¯•")])):a.value?(o(),r("div",vt,[a.value?(o(),r("div",ht,[t("div",mt,[e[8]||(e[8]=t("div",{class:"stat-icon"},"ğŸ‘¥",-1)),t("div",bt,[t("div",_t,l(a.value.meta.total_contributors),1),e[7]||(e[7]=t("div",{class:"stat-label"},"æ€»è´¡çŒ®è€…",-1)),t("div",pt,l(i.value)+"å¹´Q"+l(v.value),1)])]),t("div",gt,[e[10]||(e[10]=t("div",{class:"stat-icon"},"ğŸ†",-1)),t("div",yt,[t("div",ft,l(a.value.meta.outstanding_count),1),e[9]||(e[9]=t("div",{class:"stat-label"},"å“è¶Šè´¡çŒ®è€…",-1)),t("div",$t,"â‰¥"+l(a.value.meta.thresholds.outstanding)+"æ¬¡æœ‰æ•ˆcommit",1)])]),t("div",kt,[e[12]||(e[12]=t("div",{class:"stat-icon"},"â­",-1)),t("div",xt,[t("div",wt,l(a.value.meta.excellent_count),1),e[11]||(e[11]=t("div",{class:"stat-label"},"ä¼˜ç§€è´¡çŒ®è€…",-1)),t("div",Ct,"â‰¥"+l(a.value.meta.thresholds.excellent)+"æ¬¡æœ‰æ•ˆcommit",1)])])])):p("",!0),a.value&&a.value.contributors.outstanding.length>0?(o(),r("div",Dt,[t("h2",jt,[e[13]||(e[13]=t("span",{class:"title-icon"},"ğŸ†",-1)),e[14]||(e[14]=w(" å“è¶Šè´¡çŒ®è€… ",-1)),t("span",qt,l(a.value.contributors.outstanding.length),1)]),t("div",Tt,[(o(!0),r(g,null,y(a.value.contributors.outstanding,s=>(o(),q(T,{key:s.username,contributor:s,level:"outstanding"},null,8,["contributor"]))),128))])])):p("",!0),a.value&&a.value.contributors.excellent.length>0?(o(),r("div",Qt,[t("h2",St,[e[15]||(e[15]=t("span",{class:"title-icon"},"â­",-1)),e[16]||(e[16]=w(" ä¼˜ç§€è´¡çŒ®è€… ",-1)),t("span",Pt,l(a.value.contributors.excellent.length),1)]),t("div",Nt,[(o(!0),r(g,null,y(a.value.contributors.excellent,s=>(o(),q(T,{key:s.username,contributor:s,level:"excellent"},null,8,["contributor"]))),128))])])):p("",!0),a.value?(o(),r("div",Vt,[t("p",null,"ğŸ“… æ•°æ®ç”Ÿæˆæ—¶é—´ï¼š"+l(V(a.value.meta.generated_at)),1),t("p",null,"ğŸ’¡ æœ‰æ•ˆcommitå®šä¹‰ï¼šè‡³å°‘åŒ…å«ä¸€ä¸ªæ–‡ä»¶æ–°å¢è¡Œæ•° â‰¥ "+l(a.value.meta.thresholds.valid_commit_threshold)+" è¡Œ",1)])):p("",!0)])):(o(),r("div",ct,[e[4]||(e[4]=t("div",{class:"empty-icon"},"ğŸ“­",-1)),e[5]||(e[5]=t("p",{class:"empty-title"},"æš‚æ— æ•°æ®",-1)),t("p",dt,l(i.value)+"å¹´ç¬¬"+l(v.value)+"å­£åº¦çš„æ•°æ®å°šæœªç”Ÿæˆ",1),e[6]||(e[6]=t("p",{class:"empty-hint"},"è¯·é€‰æ‹©å…¶ä»–å­£åº¦æŸ¥çœ‹",-1))]))]))}},Yt=Q(Mt,[["__scopeId","data-v-88e52d70"]]),Bt=JSON.parse('{"title":"å­£åº¦è´¡çŒ®è€…","description":"Datawhale å­£åº¦è´¡çŒ®è€…ç»Ÿè®¡ä¸å±•ç¤º","frontmatter":{"layout":"doc","title":"å­£åº¦è´¡çŒ®è€…","description":"Datawhale å­£åº¦è´¡çŒ®è€…ç»Ÿè®¡ä¸å±•ç¤º"},"headers":[],"relativePath":"quarterly.md","filePath":"quarterly.md","lastUpdated":1771164395000}'),zt={name:"quarterly.md"},Et=Object.assign(zt,{setup(u){return(m,d)=>(o(),r("div",null,[d[0]||(d[0]=t("h1",{id:"ğŸ–ï¸-å­£åº¦è´¡çŒ®è€…",tabindex:"-1"},[w("ğŸ–ï¸ å­£åº¦è´¡çŒ®è€… "),t("a",{class:"header-anchor",href:"#ğŸ–ï¸-å­£åº¦è´¡çŒ®è€…","aria-label":'Permalink to "ğŸ–ï¸ å­£åº¦è´¡çŒ®è€…"'},"â€‹")],-1)),A(Yt),d[1]||(d[1]=B('<hr><h2 id="è¯„é€‰æ ‡å‡†" tabindex="-1">è¯„é€‰æ ‡å‡† <a class="header-anchor" href="#è¯„é€‰æ ‡å‡†" aria-label="Permalink to &quot;è¯„é€‰æ ‡å‡†&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç­‰çº§</th><th>æ¡ä»¶</th></tr></thead><tbody><tr><td>ğŸ† å“è¶Šè´¡çŒ®è€…</td><td>æœ‰æ•ˆ commit â‰¥ 50 æ¬¡</td></tr><tr><td>â­ ä¼˜ç§€è´¡çŒ®è€…</td><td>æœ‰æ•ˆ commit â‰¥ 10 æ¬¡</td></tr></tbody></table><p>æœ‰æ•ˆ commitï¼šè‡³å°‘åŒ…å«ä¸€ä¸ªæ–‡ä»¶æ–°å¢è¡Œæ•° â‰¥ 10 è¡Œçš„æäº¤ï¼Œæ—¨åœ¨è¯†åˆ«å®è´¨æ€§ä»£ç è´¡çŒ®ã€‚</p>',4))]))}});export{Bt as __pageData,Et as default};
